<?xml version="1.0" encoding="UTF-8"?>
<launch>
	<arg name="octomap_file" default="" />
	<arg name="map_frame_id" default="map" />
	<arg name="base_frame_id" default="base_footprint" />
	<arg name="sensor_frame_id" default="laser" />
	<arg name="cloud_in" default="aligned_pointcloud" /> <!-- ambient_pointcloud | aligned_pointcloud | aligned_pointcloud_outliers | aligned_pointcloud_inliers -->
	<arg name="resolution" default="0.025" />

	<node pkg="octomap_server" type="octomap_server_node" name="octomap_server" args="$(arg octomap_file)" respawn="true" output="screen">
		<param name="frame_id" type="string" value="$(arg map_frame_id)" />
		<param name="resolution" type="double" value="$(arg resolution)" />
		<param name="base_frame_id" type="string" value="$(arg base_frame_id" />
		<param name="sensor_frame_id" type="string" value="$(arg sensor_frame_id)" />
		<param name="height_map" type="bool" value="true" />
		<param name="sensor_model/max_range" type="double" value="200" />
		<param name="sensor_model/hit" type="double" value="0.7" />
		<param name="sensor_model/miss" type="double" value="0.3" />
		<param name="sensor_model/min" type="double" value="0.12" />
		<param name="sensor_model/max" type="double" value="0.97" />
		<param name="latch" type="bool" value="true" />
		<param name="filter_ground" type="bool" value="false" />
		<param name="ground_filter/distance" type="double" value="0.02" />
		<param name="ground_filter/angle" type="double" value="0.15" />
		<param name="ground_filter/plane_distance" type="double" value="0.05" />
		<param name="pointcloud_min_z" type="double" value="-1.0" />
		<param name="pointcloud_max_z" type="double" value="2.5" />
		<param name="occupancy_min_z" type="double" value="-1.0" />
		<param name="occupancy_max_z" type="double" value="2.5" />
		<param name="occupancy_grid_2d_min_z" type="double" value="-1.0" />
		<param name="occupancy_grid_2d_max_z" type="double" value="2.5" />
		<param name="occupancy_grid_2d_initialized_as_free" type="bool" value="false" />
		<remap from="cloud_in" to="$(arg cloud_in)" />
		<remap from="projected_map" to="/map_projected" />
		<remap from="octomap_point_cloud_centers" to="reference_pointcloud_update" />
	</node>
</launch>
